
### 编辑/审核窗口输入保存修复与逻辑统一 (2026-02-08)
- **核心修复**:
    - **批量导入数据丢失**: 修复了 `app.js` 中 `confirmBatchImport` 函数在保存时使用 `generateDescription` 重新生成描述，导致用户在审核窗口（Batch Preview）手动输入的备注 (`customDescription`) 被覆盖丢失的问题。改为使用 `updateItemDescription` 逻辑，正确合并自动属性与用户备注。
    - **编辑保存逻辑统一**: 重构了 `app.js` 中 `saveEdit` 函数，统一使用 `window.Utils.updateItemDescription` 生成最终描述，确保单条编辑与批量导入的行为一致性。
    - **数据初始化增强**: 修正了批量导入时 `保存位置` 和 `customDescription` 字段未从 `editForm` 正确继承的问题。
    - **输入框未提交数据保护**: 修复了 `saveEdit`、`confirmBatchImport` 和 `batchCreatePlasmids` 中忽略未按回车确认的标签输入（`_new` 字段）的问题。现在，系统会在保存前自动将这些临时输入提交并添加到对应的属性列表中，防止数据意外丢失。
- **功能增强**:
    - **回车键交互优化**: 在所有属性输入框中，按下 Enter 键不仅将内容转换为标签，还立即更新描述预览，并支持用户连续输入（输入->回车->输入->回车）。
    - **实时描述更新**: 在 `index.html` 的审核窗口中，将所有属性字段（载体、物种等）的修改事件绑定到 `updateItemDescription`，实现了描述文本的实时预览更新。
    - **工具函数抽象**: 在 `utils.js` 中新增 `updateItemDescription` 方法，封装了“保留用户备注 + 追加自动属性”的核心逻辑，消除了代码重复。
- **涉及文件**: `js/app.js`, `js/utils.js`, `index.html`, `质粒管理系统.md`。

### 移除回车键依赖与自动保存优化 (2026-02-08)
- **交互变更**:
    - **移除回车键监听**: 响应用户需求，全面移除了 `index.html` 中单条编辑页面和批量导入审核页面的所有 `@keyup.enter` 事件监听。现在用户在输入框中输入内容后，无需按回车键，直接点击保存按钮即可。
    - **消除“乱七八糟”的功能**: 简化了输入交互逻辑，避免了用户对“是否按了回车”的困惑，同时也防止了误触回车导致的意外提交或页面跳转。
- **逻辑保障**:
    - **自动提交临时内容**: 再次确认并验证了 `saveEdit` (单条保存) 和 `saveBatchImport` (批量保存) 函数中的自动提交逻辑。无论用户是否在输入框中按过回车（实际上现在按回车也没用了），只要输入框中有内容，系统在保存时都会自动将其作为新标签添加并保存。
- **涉及文件**: `index.html` (移除了30+处 `@keyup.enter`), `js/app.js`, `js/batch-logic.js`, `质粒管理系统.md`。

### 批量导入审核界面属性补全与交互优化 (2026-02-08)
- **界面修复**:
    - **属性补全**: 在批量导入的审核表格中补充了遗漏的“荧光蛋白” (Fluorescent Protein) 属性列，确保所有可识别属性都能被用户查看和编辑。
- **交互统一**:
    - **彻底移除表格回车依赖**: 检查并移除了批量导入审核表格（Table View）中所有剩余的 `@keyup.enter` 监听器，确保整个应用（包括单条编辑和批量审核）的输入交互完全一致，不再依赖回车键。
- **涉及文件**: `index.html` (添加荧光蛋白列，移除表格中的 `@keyup.enter`), `质粒管理系统.md`。

### 描述生成逻辑优化与批量导入字样修复 (2026-02-08)
- **描述生成优化**:
    - **修复“批量导入”字样残留**: 修复了生成的描述中可能意外包含“批量导入”字样的问题。系统现在会自动检测并移除这一前缀，确保描述内容的纯净。
    - **抗性显示明确化**: 响应用户需求，将描述中的“抗性”字段拆分为“大肠杆菌抗性”和“哺乳动物抗性”两个独立字段，使信息展示更加详尽明确。
    - **标签显示优化**: 将“荧光蛋白”从通用的“标签”字段中独立出来显示，确保重要属性一目了然。
- **涉及文件**: `js/utils.js`, `质粒管理系统.md`。

### 生成用户使用说明书 (2026-02-08)
- **文档生成**:
    - **创建使用说明**: 编写并生成了 `使用说明.md` (Markdown) 和 `使用说明.html` (网页版) 文件，旨在随软件打包发布。文档详细介绍了软件安装、核心功能（批量导入、搜索、管理）、最新交互逻辑（无回车键保存）以及常见问题解答。
    - **版本说明**: 在文档中明确区分了“安装版 (Setup)”、“便携版 (单文件)”和“解压版 (Unpacked)”三种格式的用途和区别。
    - **样式优化**: HTML 版本采用了现代化、清爽的 CSS 样式，提升了阅读体验。
- **涉及文件**: `使用说明.md`, `使用说明.html`, `质粒管理系统.md`。
